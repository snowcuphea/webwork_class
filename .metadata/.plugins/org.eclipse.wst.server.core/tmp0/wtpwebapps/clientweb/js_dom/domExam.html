<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<title>Insert title here</title>

<script type="text/javascript">
	function insertP() {
			newpNode = document.createElement("p");
			newpNode.setAttribute("style", "background: pink");
			plustextNode = document.createTextNode("newP");
			newpNode.appendChild(plustextNode);

			// 2. 삽입될 상위 노드
			targetNode = document.getElementById("root");

			// 3. target노드에 새롭게 생성한 노드를 추가 -하위노드로 추가
			targetNode.appendChild(newpNode);
		
	}
	function deleteP() {
			parentNode = document.getElementById("root");
	
			/*if(parentNode.lastChild.nodeName=="#text"){
				parentNode.removeChild(parentNode.lastChild);
			}*/
			parentNode.removeChild(parentNode.lastElementChild);
		//lastChild 는 모든 노드중에 가장 끝에있는것 (공백 포함)
		//lastElementChild는 element, 즉 태그있는 것 중에 제일 마지막 꺼 (공백 포함 안함)
	}
	
	function deleteDivAndP() {
		// root의 모든하위 노드 제거
		// 배열로 모든 자식노드들을 모아서 삭제하는 방식
		
		parentNode = document.getElementById("root");
		childnodelist = parentNode.childNodes;
		size = childnodelist.length;
		for(i=0; i<size;i++){
			console.log(size);//콘솔 : F12 -> console 창
			parentNode.removeChild(parentNode.lastChild);
		} //length를 for문에 주면 중간에 멈춘다.삭제할때마다 사이즈가 계속 변하기 때문이다.
		//따라서 size를 고정해주고 for문에 넣어준다. 
		
		
		//또다른 방법
		//while(childnodelist.length!=0)
		//{ 
		//	parentNode.removeChild(parentNode.lastChild);
		//}
		
		//또다른방법
		//while(parentNode.hasChildNodes())
		//{ console.log("삭제완료");
		//	parentNode.removeChild(parentNode.lastChild);
		//}

	
	}
</script>
</head>
<body>
	<div id="layer"></div>

	<hr>

	<div id="root">
		<p style="background: gray;">line01</p>
		<p style="background: skyblue">line02</p>
		<p style="background: green;">line03</p>
		<p style="background: red;">line04</p>
	</div>

	<hr>
	<button id="insertbtn" onclick="insertP()">P태그추가하기</button>
	<button id="deletebtn" onclick="deleteP()">P태그삭제하기</button>
	<button id="deleteallbtn" onclick="deleteDivAndP()">div안의 모든
		p태그 삭제하기</button>
	<button id="innerbtn" onclick="innerHTML_test()">innerHTML</button>


</body>
</html>