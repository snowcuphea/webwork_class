<!DOCTYPE html>
<!-- 돔 구조 확인하기, 여러 작업 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR" />
<title>Insert title here</title>
<script type="text/javascript">
	//윈도우가 로딩되는 시점에 익명의 함수를 실행 하겠다.
	window.onload = function(){	//익명으로 함수 정의 가능.
		//html태그말고도자바스크립트 코드로 이벤트핸들러 사용 가능
		//alert("안녕~~(익명함수)");
		domTest;
		//윈도우가 로딩되면 익명의 함수를 실행할껀데, 그 함수내용은 
		//페이지가 로딩되면 btndomtest객체이벤트를 연결해라
		//=> btndomttest에 클릭이벤트가 발생되면
		//domTest함수를 호출할 수 있도록 연결
		document.getElementById("btndomtest").onclick = domTest;
		//콜백함수는 괄호를쓰지 않는다. 함수명만 적음
		document.getElementById("nodetest").onclick = domTest2;
		
	}
	
	function domTest(){
		//alert("domTest....");
		
		//div태그 목록을 가져온다. 상위, 하위 구분하지않고 다 가져온다. 
		nodelist = document.getElementsByTagName("div");//노드리스트(배열)로 반환한다.
		alert(nodelist);
		alert("div노드의 갯수=>" + nodelist.length);
		
		//getAttribute는 노드(엘리먼트)에 정의된 속성의 값을 리턴
		for(i=0;i<nodelist.length;i++){
			alert("id속성=>"+nodelist[i].getAttribute("id"));	
			if(nodelist[i].getAttribute("id")=="domtestbtn"){
				alert("양식태그");
				alert(nodelist[i].firstChild.nodeName+","
						+ nodelist[i].firstChild.nodeValue);
			}//"domtestbtn"의 첫번째 자식노드니까 form태그
			}
		}
	
	//1. id가 myformId인 요소의 자식노드를 구하고 자식노드의 갯수를 alert
	//2. 자식노드를 탐색하고 자식노드의 id가 imginsert이면 노드 이름 출력
	function domTest2(){
		nodelist =document.getElementById("myformId");
		childlist = myform.childNodes;
		alert(childlist.length);
		for(i=0;i<childlist.length;i++){
			//if(childlist[i].getAttribute("id")=="imginsert"){
				//alert(childlist[i].nodeName);
			//}//이렇게 하면 공백 노드들이 있는데,걔네는 id속성이 없기 때문에 오류가 난다.
			
			//따라서 다음과 같이 써줘야 한다.(if조건을 먼저 걸어준다.)
			if(childlist[i].nodeName=="INPUT"){
				if(childlist[i].getAttribute("id")=="imginsert"){
					alert("노드의이름=>"+childlist[i].nodeName);
				}//결과 : input태그 노드
			}
		}
		
	}
	
		
</script>
</head>

<body>
	<div id="main">
		<h1 id="myhead">안녕하세요 DOM에 관한 작업을 수행 중입니다.</h1>
		<div id="mycontent1"><img src="../images/m_garden07.jpg" name="myimg" id="myimagId"
				alt="이미지파일" /><h3>이미지파일</h3></div>
		<div id="mycontent2">DOM의 구조를 볼까~~</div>
		<!-- 공백도 요소(=노드)로 포함되므로 쓸데없이 태그 뒤에공백주지말것 -->
		<div id="domtestbtn"><form id="myformId" name="myform">		
				<input type="button" value="dom구조확인하기"
					 name="btn" id="btndomtest" />
				<input type="button" value="노드탐색연습"
					 name="btn" id="nodetest" />
				<input type="button" value="이미지노드삽입하기"
					 name="btn" id="imginsert" />					 
				<input type="button" value="특정노드전에 삽입하기"
					 name="btn" id="btninsertbefore" />
				<input type="button" value="특정노드삭제하기"
					 name="btn" id="btndelete" />
			</form>
			
		</div>
	</div>
</body>
</html>









