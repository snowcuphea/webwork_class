<!DOCTYPE html>
<!-- 같은 타입의 데이터, for문 작업  : 배열을이용 -->
<!-- 체크박스랑 라디오버튼은 한꺼번에 제어하기 위해 name을 같게준다.  -->
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript">
	//모두선택 버튼을 누르면 food라는 name으로 정의된 checkbox를 제어
	function allcheck() {
		//food라는 이름으로 정의된 checkbox가 여러 개 - 배열로 관리
		mycheck = document.cbfmt.food;
		//alert(mycheck);
		//alert(mycheck.length);
		/*allchk라는 체크박스의 값을 읽어서 food체크박스의 체크값을 동일하게 설정
		allchk가 선택되면 => food체크박스들을 모두 선택
		allchk가 선택해제되면 => food체크박스들을 모두 선택 해제 
		 */
		//checked는 선택(true), 해제(false)
		allChkval = cbfmt.allchk.checked;
		//alert(allChkval); //항상 alert으로 제대로 되고있는지 확인한다. 
		for(i=0;i<mycheck.length;i++){
			mycheck[i].checked = allChkval;
			//항목들에게 allChval의 상태를 반영시킨다. 체크일때, 해제일때 같게끔
		}

		//mydiv = document.getElementById("result");
		//browser로 표시되는 것은 dom 
		document.getElementById("result");
		//innerHTML은 문자열 컨텐츠를 추가 - 기존의컨텐츠를 덮는다.
		//innerHTML는 아무데서나 쓸수 있는게 아니고 p,div,span에서 쓸 수 있다.
		document.getElementById("result").innerHTML = "<h1>결과</h1>";

	}
	//div에 선택된 체크박스의 value 출력하기 
	/* 	1. food체크박스를 변수에 저장하기
		2. for문으로 food체크박스의 값을 하나하나 출력해보기
		3. 선택된 체크박스만 값을 출력하도록 조건제어
		4. 선택된 체크박스의 값을 누적시켜 변수에 저장하기
		5. 체크된 체크박스의 value를 div에 출력하기 
	*/
	function ckFunc() {
		mycheck = document.cbfmt.food;
		printVal = "";
		for(i=0;i<mycheck.length;i++){//checked되면 true, 안되면 false값
			if(mycheck[i].checked){
				alert(mycheck[i].value+":"+mycheck[i].checked);
				printVal = printVal+mycheck[i].value+" "; //누적시키기
				
			}
		}
		alert("완료=>" + printVal);
		mydiv = document.getElementById("result");//getElementById는 스트링으로받음
		//mydiv는 div객체가 된다.
		
		mydiv.innerHTML = printVal; //innterHTML : 덮어쓴다.
	}

	function printText() {
		myval = cbfmt.test.value;//getter
		document.getElementById("result").innerHTML = "<h1>" + myval + "</h1>";
	}
</script>
</head>

<body>

	<form name="cbfmt">
		<label>아이스크림</label><input type="checkbox" name="food" value="아이스크림" id="ice">
		<label>커피</label><input type="checkbox" name="food" value="커피" id="coffee">
		<label>음료수</label><input type="checkbox" name="food" value="음료수" id="beverage">
		<label>모두체크/해제</label><input type="checkbox" name="allchk" id="allchk" onclick="allcheck()"><br>
			

		<input type="button" value="전송" onclick="ckFunc()"> <input
			type="text" name="test" onkeyup="printText()">
	</form>
	<div id="result"></div>
	<!-- div는 dom으로 접근해야 함. -->

</body>
</html>